hello:
  handler: handler.hello
  events:
    - http:
        path: hello
        method: get
signup:
  handler: userAuth.signup
  events:
    - http:
        path: signup
        method: post
        cors: true
login:
  handler: userAuth.login
  events:
    - http:
        path: login
        method: post
        cors: true
auth:
  handler: userAuth.auth
  events:
    - http:
        path: auth
        method: post
        cors: true

#-- Chat Websocket handler
connectionHandler:
  handler: chat.handler
  events:
    - websocket:
        route: $connect
    - websocket:
        route: $disconnect
    - websocket:
        route: saveConnection
    # - websocket:
    #     route: sendMessage
    - websocket:
        route: sendMessagePublic
    - websocket:
        route: sendUpdate
    - websocket:
        route: connectToChatRoom
    - websocket:
        route: startHarvest
    - websocket:
        route: completeHarvest
    - websocket:
        route: consumeBerry
    - websocket:
        route: cancelHarvest
    - websocket:
        route: validateInventory
    - websocket:
        route: requestInventorySync
    - websocket:
        route: validateGameState
    - websocket:
        route: moveInventoryItem
    - websocket:
        route: dropItem
    - websocket:
        route: pickupItem

#-- Cleanup functions
cleanupStaleConnections:
  handler: cleanup.cleanupStaleConnections
  events:
    - schedule: rate(5 minutes)  # Run every 5 minutes
  timeout: 300  # 5 minutes timeout

cleanupExpiredGroundItems:
  handler: cleanup.cleanupExpiredGroundItems
  events:
    - schedule: rate(10 minutes)  # Run every 10 minutes
  timeout: 300  # 5 minutes timeout
